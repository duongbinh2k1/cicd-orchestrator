# =============================================================================
# CI/CD Orchestrator Configuration
# =============================================================================

# =============================================================================
# Application Settings
# =============================================================================
SECRET_KEY=change-this-secret-key-in-production
ENVIRONMENT=development
DEBUG=false
HOST=0.0.0.0
PORT=8000

# =============================================================================
# Trigger Mode Configuration
# =============================================================================
# Options: webhook, email, both
TRIGGER_MODE=webhook

# =============================================================================
# Security & CORS
# =============================================================================
ALLOWED_HOSTS=*
CORS_ORIGINS=*

# =============================================================================
# GitLab Configuration
# =============================================================================
GITLAB_API_TOKEN=your-gitlab-token-here
GITLAB_BASE_URL=https://gitlab.com
GITLAB_WEBHOOK_SECRET=your-webhook-secret

# GitLab Data Fetching Strategy
GITLAB_AUTO_FETCH_LOGS=true
GITLAB_FETCH_STRATEGY=smart
GITLAB_FETCH_FULL_PIPELINE=true
GITLAB_FETCH_PROJECT_INFO=true
GITLAB_FETCH_CI_CONFIG=true
GITLAB_FETCH_RECENT_COMMITS=true
GITLAB_LOG_LINES_LIMIT=2000
GITLAB_API_TIMEOUT=30
GITLAB_MAX_RETRIES=3

# GitLab Log Processing
GITLAB_MAX_LOG_SIZE_MB=10
GITLAB_LOG_CONTEXT_LINES=50

# =============================================================================
# AI Providers Configuration
# =============================================================================
DEFAULT_AI_PROVIDER=openai

# OpenAI (including OpenRouter)
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TEMPERATURE=0.3
OPENAI_MAX_TOKENS=2000

# AI Analysis Settings
AI_TEMPERATURE=0.3
AI_MAX_TOKENS=2000
AI_ANALYSIS_TIMEOUT=120

# Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_TEMPERATURE=0.3
ANTHROPIC_MAX_TOKENS=2000

# =============================================================================
# Database Configuration
# =============================================================================
# For production: Oracle
DATABASE_URL=oracle+oracledb://username:password@host:port?service=servicename
# For legacy support: PostgreSQL
# DATABASE_URL=postgresql+asyncpg://cicd_user:cicd_password@localhost:5432/cicd_orchestrator
# For development: SQLite
# DATABASE_URL=sqlite+aiosqlite:///./cicd_orchestrator.db
DATABASE_ECHO=false

# =============================================================================
# Processing Configuration
# =============================================================================
MAX_CONCURRENT_ANALYSIS=3
ANALYSIS_TIMEOUT=300

# =============================================================================
# Email Integration Settings (Required if TRIGGER_MODE=email or both)
# =============================================================================
IMAP_ENABLED=false
IMAP_SERVER=imap.gmail.com
IMAP_PORT=993
IMAP_USE_SSL=true
IMAP_USER=your-email@domain.com
IMAP_APP_PASSWORD=your-app-password-here
IMAP_FOLDER=INBOX
IMAP_CHECK_INTERVAL=60
IMAP_GITLAB_EMAIL=git_nhs@bidv.com.vn

# IMAP Proxy Configuration (if needed)
IMAP_PROXY_ENABLED=false
IMAP_PROXY_HOST=proxy.company.com
IMAP_PROXY_PORT=8080
IMAP_PROXY_USERNAME=proxy-username
IMAP_PROXY_PASSWORD=proxy-password
IMAP_PROXY_TYPE=socks5

EMAIL_FAILURE_KEYWORDS=failed,failure,error,exception,job failed,pipeline failed,build failed

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=console
LOG_FILE=
